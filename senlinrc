#!/usr/bin/env bash

export VERSION=${IDENTITY_API_VERSION:-2.0}

if [[ -n "$1" ]]; then
    OS_USERNAME=$1
fi
if [[ -n "$2" ]]; then
    OS_PROJECT_NAME=$2
fi

export OS_PROJECT_NAME=${OS_PROJECT_NAME:-demo}
export OS_USERNAME=${OS_USERNAME:-demo}
export OS_PASSWORD=${ADMIN_PASSWORD:=secrete}
export OS_REGION_NAME=${REGION_NAME:-RegionOne}

HOST_IP=${HOST_IP:-127.0.0.1}
SERVICE_HOST=${SERVICE_HOST:-$HOST_IP}
SERVICE_PROTOCOL=${SERVICE_PROTOCOL:-http}
PROTOCOL=${PROTOCOL:-$SERVICE_PROTOCOL}
HOST=${HOST:-$SERVICE_HOST}

export OS_AUTH_URL=$PROTOCOL://$HOST:5000/v${VERSION}
if [[ $VERSION == 3 ]]; then
  export OS_DOMAIN_NAME=${OS_DOMAIN_NAME:-default}
  export OS_PROJECT_DOMAIN_NAME=${OS_PROJECT_DOMAIN_NAME:-default}
  export OS_USER_DOMAIN_NAME=${OS_USER_DOMAIN_NAME:-default}
fi
